<!DOCTYPE html>
<html lang="pl" xmlns="http://www.w3.org/1999/xhtml">
    <form name="connform" action="" onsubmit="return disconnect()">
      <input id="Disconnect" type="submit" value="Disconnect" /> <br /><br />
    </form>

    <hr />

    <div id="div_Alert_Icon1" style=" height: 200px; float:left;">
      <form
        name="subs1"
        action=""
        onsubmit="return sub_topics('subs1','Stopic1')"
      >
        Subscribe Topic: <input type="text" name="Stopic1" />

        <input id="Subscribe" type="submit" value="Subscribe" />
         
        <input type="button" id="Unsubscribe" onclick="return unsub_topics('subs1','Stopic1')" value="Unsubscribe" />

      </form>
      <br />
      <input
        type="text"
        id="Alert_Icon1"
        style="width:400px; height:100px; background-color: transparent; float:left;"
        disabled="disabled">
        <br/> 
      <div id="Alert_legend1" style="width:300px; height: 100px; float:left;margin-left:10px;">
        <span class="red">Czerwony, gdy wartosc &lt; 30</span> <br/> 
        <span class="green">Zielony, gdy wartosc &isin; &lt; 10,30 &gt;</span> <br/> 
        <span class="blue">Niebieski, gdy wartosc &gt; 10</span> <br/>        
      </div>
    </div>

    <div style="clear:both"></div>

    <br/> 
    <hr />
    <br/> 
    <div id="div_chart1" style="min-width: 200px; height: 400px;">
    
     <form
        name="subs2"
        action=""
        onsubmit="return sub_topics('subs2','Stopic2')"
      >
        Subscribe Topic: <input type="text" name="Stopic2" />

        <input id="Subscribe" type="submit" value="Subscribe" /> 
        <input type="button" id="Unsubscribe" onclick="return unsub_topics('subs2','Stopic2')" value="Unsubscribe" />

        <br /><br />
      </form>

   <div id="field_chart1" style="min-width: 200px; height: 300px;">
    </div>
      <!--<canvas id='gauge2' width=200 height=200></canvas>-->
        
    </div>
    <br/> 
    <hr />

    <div id="div_gauge2" style="min-width: 200px; height: 400px;">
    
      <form
         name="subs3"
         action=""
         onsubmit="return sub_topics('subs3','Stopic3')"
       >
         Subscribe Topic: <input type="text" name="Stopic3" />
 
         <input id="Subscribe" type="submit" value="Subscribe" />
         <input type="button" id="Unsubscribe" onclick="return unsub_topics('subs3','Stopic3')" value="Unsubscribe" />

         <br /><br />
       </form>
 
       <div id="field_gauge2" style="min-width: 200px; max-width: 400px; height: 300px; margin: 0 auto"></div>
     
     </div>

     <br/> 
     <hr />

     <div id="div_chart2" style="height: 530px;;">
    
      <form
         name="subs4"
         action=""
         onsubmit="return sub_topics_char('subs4','Stopic4')"
         style="float:left;"
       >
         Subscribe Topic: <input type="text" name="Stopic4" />
 
         <input id="Subscribe" type="submit" value="Subscribe" /> 
         <input type="button" id="Unsubscribe" onclick="return unsub_topics_char('subs4','Stopic4')" value="Unsubscribe" />

       </form>

       <form
       name="subs5"
       action=""
       onsubmit="return sub_topics_char('subs5','Stopic5')"
       style="float:left;"
     >
       Subscribe Topic: <input type="text" name="Stopic5" />

       <input id="Subscribe" type="submit" value="Subscribe" /> 
       <input type="button" id="Unsubscribe" onclick="return unsub_topics_char('subs5','Stopic5')" value="Unsubscribe" />

     </form>
     <div style="clear:both"></div>
    <br />
    <!--<div id="field_chart2" style="min-width: 310px;max-width: 800px;height: 400px;margin: 0 auto">-->
      <canvas id="field_chart2" style="min-width: 310px;max-width: 800px;height: 400px;margin: 0 auto; -moz-user-select: none;
        -webkit-user-select: none;
        -ms-user-select: none;"></canvas>

         <button id="randomizeData">Randomize Data</button>
         <button id="addDataset" onclick="addTopics()">Add Dataset</button>
         <button id="removeDataset" onclick="removeTopics()">
           Remove Dataset
         </button>
         <button id="addData" onclick="addDataTopics()">Add Data</button>
         <button id="removeData" onclick="removeDataTopics()">Remove Data</button>
         <br />
        </div>
    <hr />

    <div id="div_messages_list1">

      <form
      name="subs6"
      action=""
      onsubmit="return sub_topics('subs6','Stopic6')"
    >
      Subscribe Topic: <input type="text" name="Stopic6" />

      <input id="Subscribe" type="submit" value="Subscribe" /> 
      <input type="button" id="Unsubscribe" onclick="return unsub_topics('subs6','Stopic6')" value="Unsubscribe" />

      <br /><br />
    </form>
  </br>
      Messages:

      <div>
        <ul
          id="list1"
          style="font-family: 'Courier New', Courier, monospace;"
        ></ul>
      </div>
    </div>

    <script type="text/javascript">

    //window.onload =  loadChart1("field_chart1","Temperature of sensor 1","Time","Temperature");
    loadChart1("field_chart1","Temperature of sensor 1","Time","Temperature");
    //loadChart3("field_chart2","Temperature of sensor 1","Time","Temperature");

       /* window.onload = function() {
        var ctx = document.getElementById("field_chart2").getContext("2d");
        window.myLine = new Chart(ctx, config);};*/

        //window.load = loadChart2();
      
        loadChart2("field_chart2");
		
        
      function userDefinedCallback(payloadString, destinationName) {   
      
      
      if(connected_flag == 1)
      {      
        //showChosenMessages( $('#div_messages_list1').find('input[name="Stopic3"]').val(),'list1',15);
        
        if($('#div_Alert_Icon1').find('input[name="Stopic1"]').val() != "")
        {
          changeColorAlert($('#div_Alert_Icon1').find('input[name="Stopic1"]').val(),'Alert_Icon1',10,30);
        }
        
        if($('#div_gauge2').find('input[name="Stopic3"]').val() != "")
        {
          loadgauge2($('#div_gauge2').find('input[name="Stopic3"]').val(),"field_gauge2");
        }

        if($('#div_chart1').find('input[name="Stopic2"]').val() != "")
        {
          updateChart1($('#div_chart1').find('input[name="Stopic2"]').val());
        }

        //messagesList(document.forms['subs3']['Stopic3'].value,'list1',15);
       
        //loadChart("container1","Temperature of sensor 1","Time","Temperature");
        
        //changeGauge2("temperature",'gauge2');
       
        if($('#div_chart2').find('input[name="Stopic4"]').val() != "")
        {
          addDataTopics($('#div_chart2').find('input[name="Stopic4"]').val());
        }

        if($('#div_chart2').find('input[name="Stopic5"]').val() != "")
        {
          addDataTopics($('#div_chart2').find('input[name="Stopic5"]').val());
        }

        showAllMessages('list1',15);

      }
    };
    

    </script>
</html>